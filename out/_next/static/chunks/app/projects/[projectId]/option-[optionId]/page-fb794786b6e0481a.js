(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{3523:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(5531).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},1242:function(e,t,n){Promise.resolve().then(n.bind(n,178)),Promise.resolve().then(n.bind(n,184)),Promise.resolve().then(n.bind(n,6538)),Promise.resolve().then(n.t.bind(n,5250,23))},178:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var s=n(7437),r=n(2265),a=n(5531);let c=(0,a.Z)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var i=n(3523);let o=(0,a.Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),d=(0,a.Z)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var l=n(1657);let m=[{id:"1",name:"Foundation",quantity:450,unit:"m\xb3",carbon:45,percentage:18},{id:"2",name:"Structure",quantity:1200,unit:"m\xb3",carbon:89,percentage:36},{id:"3",name:"Envelope",quantity:2400,unit:"m\xb2",carbon:67,percentage:27},{id:"4",name:"Mechanical",quantity:85,unit:"units",carbon:34,percentage:14},{id:"5",name:"Electrical",quantity:45,unit:"units",carbon:12,percentage:5}],u=[{id:"1",guid:"ABC123-DEF456",name:"Concrete Foundation Slab",quantity:450,unit:"m\xb3",carbon:45,percentage:18},{id:"2",guid:"GHI789-JKL012",name:"Steel Beam 300x150",quantity:24,unit:"pcs",carbon:12,percentage:5},{id:"3",guid:"MNO345-PQR678",name:"Curtain Wall System",quantity:1200,unit:"m\xb2",carbon:34,percentage:14},{id:"4",guid:"STU901-VWX234",name:"HVAC Unit 50kW",quantity:4,unit:"units",carbon:23,percentage:9},{id:"5",guid:"YZA567-BCD890",name:"LED Lighting Fixture",quantity:120,unit:"pcs",carbon:8,percentage:3}];function x(e){let{className:t,systemsData:n,productsData:a}=e,[x,h]=(0,r.useState)("systems"),[p,g]=(0,r.useState)("carbon"),[f,b]=(0,r.useState)("desc"),j=e=>{p===e?b("asc"===f?"desc":"asc"):(g(e),b("desc"))},y=e=>{let{field:t}=e;return p!==t?(0,s.jsx)("div",{className:"w-4 h-4"}):"asc"===f?(0,s.jsx)(c,{className:"w-4 h-4"}):(0,s.jsx)(i.Z,{className:"w-4 h-4"})},v=[..."systems"===x?n||m:a||u].sort((e,t)=>{let n=e[p],s=t[p];return("string"==typeof n&&(n=n.toLowerCase(),s=s.toLowerCase()),"asc"===f)?n<s?-1:n>s?1:0:n>s?-1:n<s?1:0});return(0,s.jsxs)("div",{className:(0,l.cn)("bg-card rounded-lg border",t),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("button",{onClick:()=>h("systems"),className:(0,l.cn)("px-4 py-2 text-sm font-medium rounded-md transition-colors","systems"===x?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:"Systems"}),(0,s.jsx)("button",{onClick:()=>h("products"),className:(0,l.cn)("px-4 py-2 text-sm font-medium rounded-md transition-colors","products"===x?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-accent"),children:"Products"})]}),(0,s.jsxs)("button",{className:"flex items-center gap-2 px-3 py-2 text-sm border border-input rounded-md hover:bg-accent transition-colors",onClick:()=>{console.log("CSV Export:",v.map(e=>Object.values(e).join(",")).join("\\n"))},children:[(0,s.jsx)(o,{className:"w-4 h-4"}),"Export CSV"]})]}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full min-w-[600px]",children:[(0,s.jsx)("thead",{className:"bg-muted/50",children:(0,s.jsxs)("tr",{className:"border-b",children:["products"===x&&(0,s.jsx)("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:(0,s.jsxs)("button",{className:"flex items-center gap-1 hover:text-foreground",onClick:()=>j("name"),children:["GUID",(0,s.jsx)(y,{field:"name"})]})}),(0,s.jsx)("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:(0,s.jsxs)("button",{className:"flex items-center gap-1 hover:text-foreground",onClick:()=>j("name"),children:["Name",(0,s.jsx)(y,{field:"name"})]})}),(0,s.jsx)("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:(0,s.jsxs)("button",{className:"flex items-center gap-1 hover:text-foreground",onClick:()=>j("quantity"),children:["Quantity",(0,s.jsx)(y,{field:"quantity"})]})}),(0,s.jsx)("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:(0,s.jsxs)("button",{className:"flex items-center gap-1 hover:text-foreground",onClick:()=>j("carbon"),children:["Carbon (tCO₂e)",(0,s.jsx)(y,{field:"carbon"})]})}),(0,s.jsx)("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground",children:(0,s.jsxs)("button",{className:"flex items-center gap-1 hover:text-foreground",onClick:()=>j("percentage"),children:["Percentage",(0,s.jsx)(y,{field:"percentage"})]})}),(0,s.jsx)("th",{className:"text-left p-4 text-sm font-medium text-muted-foreground w-12",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:v.map((e,t)=>(0,s.jsxs)("tr",{className:(0,l.cn)("border-b hover:bg-accent/50 transition-colors",t%2==1&&"bg-muted/25"),children:["products"===x&&"guid"in e&&(0,s.jsxs)("td",{className:"p-4 text-sm font-mono text-muted-foreground",children:[(0,s.jsx)("span",{className:"hidden lg:inline",children:e.guid}),(0,s.jsxs)("span",{className:"lg:hidden",children:[e.guid.slice(0,8),"..."]})]}),(0,s.jsx)("td",{className:"p-4 text-sm font-medium",children:e.name}),(0,s.jsxs)("td",{className:"p-4 text-sm carbon-value",children:[e.quantity.toLocaleString()," ",e.unit]}),(0,s.jsx)("td",{className:"p-4 text-sm font-medium carbon-value",children:e.carbon}),(0,s.jsxs)("td",{className:"p-4 text-sm text-muted-foreground",children:[e.percentage,"%"]}),(0,s.jsx)("td",{className:"p-4",children:(0,s.jsx)("button",{className:"p-1 hover:bg-accent rounded transition-colors",title:"More actions",children:(0,s.jsx)(d,{className:"w-4 h-4"})})})]},e.id))})]})})]})}},184:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var s=n(7437),r=n(4033);function a(e){let{projectId:t,currentOptionId:n,options:a}=e,c=(0,r.useRouter)();return(0,s.jsx)("select",{className:"px-3 py-2 border border-input rounded-md text-sm bg-background focus:outline-none focus-visible:ring-2 focus-visible:ring-primary font-medium text-primary",value:n,onChange:e=>{c.push("/projects/".concat(t,"/option-").concat(e.target.value))},children:a.map(e=>(0,s.jsxs)("option",{value:e.id,children:["Option ",e.id," - ",e.name," (",e.carbon," tCO₂e)"]},e.id))})}},6538:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var s=n(7437),r=n(2265),a=n(5531);let c=(0,a.Z)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),i=(0,a.Z)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),o=(0,a.Z)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),d=(0,a.Z)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);var l=n(1657);function m(e){var t;let{className:n,systems:a}=e,[m,u]=(0,r.useState)(null),x=a||[{id:"foundation",name:"Foundation",carbon:45,color:"#3B82F6",percentage:18},{id:"structure",name:"Structure",carbon:89,color:"#10B981",percentage:36},{id:"envelope",name:"Envelope",carbon:67,color:"#F59E0B",percentage:27},{id:"mechanical",name:"Mechanical",carbon:34,color:"#EF4444",percentage:14},{id:"electrical",name:"Electrical",carbon:12,color:"#8B5CF6",percentage:5}],h=x.reduce((e,t)=>e+t.carbon,0);return(0,s.jsxs)("div",{className:(0,l.cn)("grid gap-6 lg:grid-cols-[3fr_2fr]",n),children:[(0,s.jsxs)("div",{className:"relative bg-muted rounded-lg overflow-hidden min-h-[300px] lg:min-h-[400px]",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"w-24 h-24 bg-muted-foreground/20 rounded-lg mx-auto mb-4 flex items-center justify-center",children:(0,s.jsx)("div",{className:"w-12 h-12 border-2 border-dashed border-muted-foreground/40 rounded"})}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"3D Model Viewer"}),(0,s.jsx)("p",{className:"text-muted-foreground/60 text-xs",children:"Speckle integration"})]})}),(0,s.jsxs)("div",{className:"absolute bottom-4 right-4 flex gap-2",children:[(0,s.jsx)("button",{className:"p-2 bg-white/90 hover:bg-white rounded-md shadow-sm transition-colors",title:"Rotate",children:(0,s.jsx)(c,{className:"w-4 h-4"})}),(0,s.jsx)("button",{className:"p-2 bg-white/90 hover:bg-white rounded-md shadow-sm transition-colors",title:"Zoom In",children:(0,s.jsx)(i,{className:"w-4 h-4"})}),(0,s.jsx)("button",{className:"p-2 bg-white/90 hover:bg-white rounded-md shadow-sm transition-colors",title:"Zoom Out",children:(0,s.jsx)(o,{className:"w-4 h-4"})}),(0,s.jsx)("button",{className:"p-2 bg-white/90 hover:bg-white rounded-md shadow-sm transition-colors",title:"Fullscreen",children:(0,s.jsx)(d,{className:"w-4 h-4"})})]}),m&&(0,s.jsxs)("div",{className:"absolute top-4 left-4 bg-black/60 text-white px-3 py-2 rounded-md text-sm",children:["Selected: ",null===(t=x.find(e=>e.id===m))||void 0===t?void 0:t.name]})]}),(0,s.jsxs)("div",{className:"bg-card rounded-lg border p-4 lg:p-6",children:[(0,s.jsx)("h3",{className:"font-semibold mb-4",children:"Embodied Carbon by System"}),(0,s.jsxs)("div",{className:"relative flex items-center justify-center mb-6",children:[(0,s.jsx)("svg",{width:"200",height:"200",className:"rotate-[-90deg]",children:x.map((e,t)=>{let n=2*Math.PI*80;e.percentage;let r=x.slice(0,t).reduce((e,t)=>e+t.percentage,0);return(0,s.jsx)("circle",{cx:"100",cy:"100",r:80,fill:"none",stroke:e.color,strokeWidth:"20",strokeDasharray:"".concat(e.percentage/100*n," ").concat(n),strokeDashoffset:"0",className:(0,l.cn)("transition-all duration-200 cursor-pointer",m===e.id&&"stroke-[24]"),style:{transformOrigin:"100px 100px",transform:"rotate(".concat(r/100*360,"deg)")},onClick:()=>u(m===e.id?null:e.id)},e.id)})}),(0,s.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,s.jsx)("div",{className:"text-2xl font-bold carbon-value",children:h}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"tCO₂e"})]})]}),(0,s.jsx)("div",{className:"space-y-2",children:x.map(e=>(0,s.jsxs)("button",{onClick:()=>u(m===e.id?null:e.id),className:(0,l.cn)("w-full flex items-center justify-between p-2 rounded-md transition-colors hover:bg-accent",m===e.id&&"bg-accent border border-primary/20"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,s.jsx)("span",{className:"text-sm font-medium",children:e.name})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("div",{className:"text-sm font-medium carbon-value",children:[e.carbon," tCO₂e"]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.percentage,"%"]})]})]},e.id))})]})]})}},1657:function(e,t,n){"use strict";n.d(t,{cn:function(){return a}});var s=n(7042),r=n(4769);function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.m6)((0,s.W)(t))}},4033:function(e,t,n){e.exports=n(5313)}},function(e){e.O(0,[395,250,971,938,744],function(){return e(e.s=1242)}),_N_E=e.O()}]);