(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{6336:function(e,t,r){Promise.resolve().then(r.bind(r,3057))},3057:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(7437),o=r(2265),u=r(4033),i=r(1568);let a=o.lazy(()=>r.e(154).then(r.bind(r,6154)));var c=r(1571);function s(e){var t,r;let{optionId:u}=e;return function(e,t){let r=o.useMemo(()=>{switch(e){case"bar":return{xAxis:{type:"category",data:t.categories},yAxis:{type:"value"},series:[{type:"bar",data:t.values}]};case"radar":return{radar:{indicator:t.indicators},series:[{type:"radar",data:[{value:t.values}]}]};case"gauge":return{series:[{type:"gauge",progress:{show:!0},detail:{formatter:"{value}%"},data:[{value:t.value}]}]};default:return{}}},[e,t]);return(0,n.jsx)(a,{option:r})}("gauge",{value:null!==(r=null===(t=(0,c.rS)(u)[0])||void 0===t?void 0:t.value)&&void 0!==r?r:0})}function l(){let e=(0,u.useSearchParams)().get("optionId");return e?(0,n.jsx)(o.Suspense,{fallback:(0,n.jsx)(i.O,{className:"h-64 w-full"}),children:(0,n.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,n.jsx)("h1",{className:"text-xl font-semibold",children:"Compare"}),(0,n.jsx)(s,{optionId:e})]})}):(0,n.jsx)("p",{children:"No option selected"})}},1568:function(e,t,r){"use strict";r.d(t,{O:function(){return i}});var n=r(7437),o=r(2265),u=r(1657);let i=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,u.cn)("animate-pulse rounded-md bg-muted",r),...o})});i.displayName="Skeleton"},1571:function(e,t,r){"use strict";r.d(t,{D2:function(){return u},Z0:function(){return o},rS:function(){return i}});var n=r(2770);function o(){let[e]=n.S.projects.useSuspenseQuery();return e}function u(e){let[t]=n.S.options.useSuspenseQuery({projectId:e});return t}function i(e){let[t]=n.S.carbonResults.useSuspenseQuery({optionId:e});return t}},2770:function(e,t,r){"use strict";r.d(t,{S:function(){return p},u:function(){return I}});var n,o=r(4495),u=r(9670);let i=r(1979).rN.create(),a=[{id:"p1",name:"Circular House"},{id:"p2",name:"Metro Station"}],c=[{id:"o1",projectId:"p1",name:"Option A"},{id:"o2",projectId:"p1",name:"Option B"},{id:"o3",projectId:"p2",name:"Option A"}],s=[{optionId:"o1",value:100},{optionId:"o2",value:85},{optionId:"o3",value:120}],l=i.router({projects:i.procedure.query(()=>a),options:i.procedure.input(e=>{if("object"==typeof e&&e&&"projectId"in e)return{projectId:String(e.projectId)};throw Error("Invalid input")}).query(e=>{let{input:t}=e;return c.filter(e=>e.projectId===t.projectId)}),carbonResults:i.procedure.input(e=>{if("object"==typeof e&&e&&"optionId"in e)return{optionId:String(e.optionId)};throw Error("Invalid input")}).query(e=>{let{input:t}=e;return s.filter(e=>e.optionId===t.optionId)})});var d=r(2601);let p=(0,o.ec)(),f=null!==(n=d.env.NEXT_PUBLIC_API_URL)&&void 0!==n?n:"",v=!d.env.JEST_WORKER_ID,I=p.createClient({links:v?[(0,u.N8)({url:"".concat(f,"/api/trpc")})]:[f?(0,u.N8)({url:"".concat(f,"/api/trpc")}):(0,u.No)({router:l,createContext:async()=>({})})]})},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return u}});var n=r(7042),o=r(4769);function u(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)((0,n.W)(t))}},4033:function(e,t,r){e.exports=r(5313)}},function(e){e.O(0,[57,971,938,744],function(){return e(e.s=6336)}),_N_E=e.O()}]);